<div class="container">
  <div class="row  col-7 mt-5 mb-4 mx-auto">
    <% if @reservation.errors.any? %>
      <%= @reservation.errors.full_messages %>
    <% end %>
    <h1 class="text-center">新規予約画面</h1>
    
    <div class="col-7 mx-auto mt-3">
      <%= form_with model: @reservation, local: true, class: 'form' do |form| %>
      <div class="day form-group">
        <%= form.label :day, '日付', class: "form-label" %>
        <%= form.text_field :day, class: 'form-control', value: @day, readonly: true %>
      </div>
      <div class="time form-group mt-3">
        <%= form.label :time, '時間', class: "form-label" %>
        <%= form.text_field :time, class: 'form-control', value: @time, readonly: true %>
      </div>
      
      <% if params[:user_id].present? %>
        <% @reservation.user_id = params[:user_id] %>
        <%= @user.name %>
        <%= form.hidden_field :user_id, value: @reservation.user_id %>
      <% end %>
      
      <%= link_to "ユーザー選択へ", admins_users_path(source: 'admins_users', day: @day, time: @time) %>
      
      <%= form.hidden_field :start_time, value: @start_time %>
      <%= form.hidden_field :admin_id, value: current_admin.id %>
      <div class="submit">
        <%= form.submit value: '予約する', class: 'btn btn-primary mx-auto d-block mt-3' %>
      </div>
    <% end %>
    </div>
  </div>
</div>
